version: '3.1'

services:
  nginx:
    container_name: scrabble-solver_nginx
    image: nginx
    restart: unless-stopped
    ports:
      - "44300:8443"
    volumes:
      - ./nginx/conf.d:/etc/nginx/conf.d
      - ./nginx/tls:/etc/nginx/tls

  scrabble-solver:
    container_name: scrabble-solver_app
    image: dannyshih/scrabble-solver:v8.7
    restart: unless-stopped
    environment:
      SCRABBLE_SOLVER_MAX_CONCURRENT_OPERATIONS: 8
      SCRABBLE_SOLVER_PERMUTATION_BATCH_THRESHOLD: 500
      SCRABBLE_SOLVER_LOGS_STDOUT: "true"
